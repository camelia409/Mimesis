{% extends "base.html" %}

{% block title %}Mimesis - AI-Powered Cultural Style Intelligence{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="relative min-h-screen flex items-center justify-center overflow-hidden py-8 sm:py-12 lg:py-20">
    <!-- Background Elements -->
    <div class="absolute inset-0">
        <div class="absolute top-10 left-10 sm:top-20 sm:left-20 w-32 h-32 sm:w-72 sm:h-72 bg-purple-500/20 rounded-full blur-3xl animate-float"></div>
        <div class="absolute bottom-10 right-10 sm:bottom-20 sm:right-20 w-40 h-40 sm:w-96 sm:h-96 bg-pink-500/20 rounded-full blur-3xl animate-float" style="animation-delay: 2s;"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 sm:w-80 sm:h-80 bg-blue-500/10 rounded-full blur-3xl animate-float" style="animation-delay: 4s;"></div>
    </div>

    <div class="relative z-10 w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <!-- Main Heading -->
        <div class="mb-8 sm:mb-12">
            <h1 class="text-3xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-black text-gradient font-space mb-4 sm:mb-8 leading-tight">
                Transform Your
                <span class="block shimmer bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent">
                    Cultural Identity
                </span>
                Into Style
            </h1>
            <p class="text-lg sm:text-xl md:text-2xl lg:text-3xl text-white/80 font-medium max-w-4xl mx-auto leading-relaxed px-4">
                AI-powered fashion recommendations that understand your cultural background, 
                creating personalized style identities that celebrate diversity and inclusivity.
            </p>
        </div>

        <!-- Authentication Status -->
        {% if current_user.is_authenticated %}
            <div class="mb-8 sm:mb-16">
                <div class="inline-flex items-center space-x-2 sm:space-x-4 bg-white/10 backdrop-blur-sm rounded-full px-4 sm:px-8 py-3 sm:py-4 border border-white/20">
                    <div class="w-3 h-3 sm:w-4 sm:h-4 bg-green-400 rounded-full animate-pulse"></div>
                    <span class="text-white/90 font-medium text-sm sm:text-lg">Welcome back, {{ current_user.username }}!</span>
                </div>
            </div>
        {% else %}
            <div class="mb-8 sm:mb-16">
                <div class="flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 lg:space-x-8">
                    <a href="{{ url_for('login') }}" class="w-full sm:w-auto bg-white/10 backdrop-blur-sm text-white px-6 sm:px-10 py-4 sm:py-5 rounded-xl font-semibold hover:bg-white/20 transition-all duration-300 hover:scale-105 border border-white/20 text-base sm:text-lg">
                        <i class="fas fa-sign-in-alt mr-2 sm:mr-3"></i>
                        Sign In
                    </a>
                    <a href="{{ url_for('register') }}" class="w-full sm:w-auto bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 sm:px-10 py-4 sm:py-5 rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition-all duration-300 hover:scale-105 animate-glow text-base sm:text-lg">
                        <i class="fas fa-user-plus mr-2 sm:mr-3"></i>
                        Get Started
                    </a>
                </div>
            </div>
        {% endif %}

        <!-- Main Input Form -->
        {% if current_user.is_authenticated %}
            <div class="w-full max-w-5xl mx-auto">
                <form method="POST" action="{{ url_for('recommend') }}" class="space-y-6 sm:space-y-8 lg:space-y-10">
                    <!-- Input Section -->
                    <div class="glass-effect rounded-2xl sm:rounded-3xl p-6 sm:p-8 lg:p-10 border border-white/10 card-hover">
                        <div class="text-center mb-6 sm:mb-8 lg:mb-10">
                            <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4 sm:mb-6">Share Your Cultural Story</h2>
                            <p class="text-white/70 text-base sm:text-lg lg:text-xl">Tell us about your cultural influences, interests, and inspirations</p>
                        </div>
                        
                        <div class="space-y-6 sm:space-y-8">
                            <div>
                                <label for="cultural_preferences" class="block text-white/90 font-semibold mb-3 sm:mb-4 text-lg sm:text-xl">
                                    <i class="fas fa-globe-americas mr-2 sm:mr-3 text-purple-400"></i>
                                    Cultural Preferences
                                </label>
                                <textarea 
                                    id="cultural_preferences" 
                                    name="cultural_preferences" 
                                    rows="4" 
                                    class="w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 bg-white/5 border border-white/20 rounded-xl sm:rounded-2xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent backdrop-blur-sm resize-none text-base sm:text-lg"
                                    placeholder="e.g., AR Rahman, Radhe Shyam, Chess, 20s cinema, vintage, Bollywood, classical music, street art, sustainable fashion..."
                                    required
                                ></textarea>
                                <p class="text-white/60 text-sm sm:text-base mt-3 sm:mt-4">
                                    <i class="fas fa-lightbulb mr-2 text-yellow-400"></i>
                                    Include artists, movies, music, hobbies, cultural elements, or any influences that inspire your style
                                </p>
                            </div>
                            
                            <button 
                                type="submit" 
                                class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 sm:py-6 px-6 sm:px-10 rounded-xl sm:rounded-2xl font-bold text-lg sm:text-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 hover:scale-105 animate-glow group"
                            >
                                <i class="fas fa-magic mr-2 sm:mr-3 group-hover:rotate-12 transition-transform"></i>
                                Generate My Style Identity
                            </button>
                            
                            <!-- PWA Install Button -->
                            <button id="install-btn" class="w-full mt-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 sm:py-4 px-6 sm:px-8 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-300 hover:scale-105 hidden group">
                                <i class="fas fa-download mr-2 sm:mr-3 group-hover:scale-110 transition-transform"></i>
                                Install Mimesis App
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        {% else %}
            <!-- Call to Action for Non-Authenticated Users -->
            <div class="max-w-5xl mx-auto">
                <div class="glass-effect rounded-3xl p-10 border border-white/10 card-hover">
                    <div class="text-center">
                        <div class="w-24 h-24 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-8 animate-glow">
                            <i class="fas fa-lock text-white text-3xl"></i>
                        </div>
                        <h2 class="text-3xl font-bold text-white mb-6">Unlock Your Style Journey</h2>
                        <p class="text-white/70 mb-8 text-xl">Sign in or create an account to start your personalized style discovery</p>
                        <div class="flex flex-col sm:flex-row items-center justify-center space-y-6 sm:space-y-0 sm:space-x-8">
                            <a href="{{ url_for('login') }}" class="bg-white/10 backdrop-blur-sm text-white px-10 py-5 rounded-xl font-semibold hover:bg-white/20 transition-all duration-300 hover:scale-105 border border-white/20 text-lg">
                                <i class="fas fa-sign-in-alt mr-3"></i>
                                Sign In
                            </a>
                            <a href="{{ url_for('register') }}" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-10 py-5 rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition-all duration-300 hover:scale-105 animate-glow text-lg">
                                <i class="fas fa-user-plus mr-3"></i>
                                Create Account
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
</section>

<!-- Features Section -->
<section class="relative py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-20">
            <h2 class="text-5xl font-bold text-white mb-8">Why Choose Mimesis?</h2>
            <p class="text-2xl text-white/70 max-w-4xl mx-auto">
                Experience the future of fashion with AI that understands your cultural heritage
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
            <!-- Feature 1 -->
            <div class="glass-effect rounded-3xl p-10 border border-white/10 card-hover">
                <div class="w-20 h-20 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl flex items-center justify-center mb-8 animate-glow">
                    <i class="fas fa-brain text-white text-3xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-white mb-6">Cultural Intelligence</h3>
                <p class="text-white/70 text-lg leading-relaxed">
                    Our AI understands cultural nuances, traditions, and modern influences to create authentic style recommendations.
                </p>
            </div>
            
            <!-- Feature 2 -->
            <div class="glass-effect rounded-3xl p-10 border border-white/10 card-hover">
                <div class="w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mb-8 animate-glow">
                    <i class="fas fa-users text-white text-3xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-white mb-6">Inclusive Design</h3>
                <p class="text-white/70 text-lg leading-relaxed">
                    Celebrating diversity with style recommendations that honor all cultural backgrounds and body types.
                </p>
            </div>
            
            <!-- Feature 3 -->
            <div class="glass-effect rounded-3xl p-10 border border-white/10 card-hover">
                <div class="w-20 h-20 bg-gradient-to-r from-green-600 to-blue-600 rounded-2xl flex items-center justify-center mb-8 animate-glow">
                    <i class="fas fa-leaf text-white text-3xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-white mb-6">Sustainable Fashion</h3>
                <p class="text-white/70 text-lg leading-relaxed">
                    Promoting eco-friendly brands and sustainable practices while maintaining style and cultural authenticity.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Example Section -->
<section class="relative py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-20">
            <h2 class="text-5xl font-bold text-white mb-8">See It In Action</h2>
            <p class="text-2xl text-white/70">
                Discover how cultural inputs transform into personalized style identities
            </p>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <!-- Example Input -->
            <div class="glass-effect rounded-3xl p-10 border border-white/10 card-hover">
                <h3 class="text-3xl font-bold text-white mb-8">
                    <i class="fas fa-arrow-right text-purple-400 mr-3"></i>
                    Cultural Input
                </h3>
                <div class="space-y-6">
                    <div class="bg-white/5 rounded-2xl p-6 border border-white/10">
                        <p class="text-white/90 font-medium text-lg">"AR Rahman, Radhe Shyam, Chess, 20s cinema, vintage"</p>
                    </div>
                    <div class="flex items-center space-x-4 text-white/60 text-lg">
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-music text-purple-400"></i>
                            <span>Music Composer</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-film text-blue-400"></i>
                            <span>Film</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-chess text-green-400"></i>
                            <span>Strategy</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Example Output -->
            <div class="glass-effect rounded-3xl p-10 border border-white/10 card-hover">
                <h3 class="text-3xl font-bold text-white mb-8">
                    <i class="fas fa-magic text-pink-400 mr-3"></i>
                    Style Identity
                </h3>
                <div class="space-y-6">
                    <div class="bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-2xl p-6 border border-purple-500/30">
                        <h4 class="text-2xl font-bold text-gradient mb-4">Vintage Tamil Cinematic Maestro</h4>
                        <p class="text-white/80 text-lg">A sophisticated blend of classical elegance and modern creativity</p>
                    </div>
                    <div class="grid grid-cols-2 gap-6">
                        <div class="bg-white/5 rounded-xl p-4">
                            <p class="text-white/60 text-sm mb-2">Brands</p>
                            <p class="text-white/90 font-medium">Etro, Christy Dawn</p>
                        </div>
                        <div class="bg-white/5 rounded-xl p-4">
                            <p class="text-white/60 text-sm mb-2">Colors</p>
                            <p class="text-white/90 font-medium">Ochre, Sage, Cream</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="relative py-24">
    <div class="max-w-5xl mx-auto text-center">
        <div class="glass-effect rounded-3xl p-16 border border-white/10 card-hover">
            <h2 class="text-5xl font-bold text-white mb-8">Ready to Discover Your Style?</h2>
            <p class="text-2xl text-white/70 mb-12">
                Join thousands of users who have transformed their cultural identity into stunning style recommendations
            </p>
            {% if not current_user.is_authenticated %}
                <div class="flex flex-col sm:flex-row items-center justify-center space-y-6 sm:space-y-0 sm:space-x-8">
                    <a href="{{ url_for('register') }}" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-12 py-6 rounded-2xl font-bold text-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 hover:scale-105 animate-glow">
                        <i class="fas fa-rocket mr-3"></i>
                        Start Your Journey
                    </a>
                    <a href="{{ url_for('login') }}" class="bg-white/10 backdrop-blur-sm text-white px-12 py-6 rounded-2xl font-semibold hover:bg-white/20 transition-all duration-300 hover:scale-105 border border-white/20 text-xl">
                        <i class="fas fa-sign-in-alt mr-3"></i>
                        Sign In
                    </a>
                </div>
            {% else %}
                <a href="#top" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-12 py-6 rounded-2xl font-bold text-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 hover:scale-105 animate-glow inline-block">
                    <i class="fas fa-magic mr-3"></i>
                    Generate New Style
                </a>
            {% endif %}
        </div>
    </div>
</section>

<script>
// Handle popular input from sessionStorage
document.addEventListener('DOMContentLoaded', function() {
    // Check if there's a popular input stored in sessionStorage
    const popularInput = sessionStorage.getItem('popularInput');
    
    if (popularInput) {
        // Find the textarea and populate it
        const textarea = document.getElementById('cultural_preferences');
        if (textarea) {
            textarea.value = popularInput;
            
            // Add a visual indicator that the input was pre-filled
            textarea.style.borderColor = '#8b5cf6'; // Purple border
            textarea.style.boxShadow = '0 0 0 3px rgba(139, 92, 246, 0.3)'; // Purple glow
            
            // Show a success message
            const successMessage = document.createElement('div');
            successMessage.className = 'mt-4 p-4 bg-green-600/20 border border-green-500/30 rounded-2xl text-green-400 font-semibold';
            successMessage.innerHTML = '<i class="fas fa-check-circle mr-2"></i>Popular combination loaded! Click "Generate My Style Identity" to continue.';
            textarea.parentNode.appendChild(successMessage);
            
            // Remove the popular input from sessionStorage
            sessionStorage.removeItem('popularInput');
            
            // Scroll to the form
            textarea.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            // Remove the visual indicator after 3 seconds
            setTimeout(function() {
                textarea.style.borderColor = '';
                textarea.style.boxShadow = '';
            }, 3000);
        }
    }
});
</script>
{% endblock %}
